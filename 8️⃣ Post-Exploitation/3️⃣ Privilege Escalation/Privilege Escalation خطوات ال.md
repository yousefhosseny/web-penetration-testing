# ุงูู ุณููุงุฑูู ุชุนููู ูู ุงู Privilege Escalation :

### ุงูู ุญุงุฌู ุชุนูููุง ูู ุงูู ุชุนูู ุงู tty comand ุจุงูุงูุฑ ุฏู :
```bash
python3 -c 'import pty; pty.spawn("/bin/sh")'
```

### ูุนุฑู ุงุตุฏุงุฑ ุงู kernal ูุชุดูู ูู ููู ุซุบุฑู ููุง ูุง

###### -  ุก  [[DirtyCow (CVE-2016-5195).]]
###### - ุงูู ุณูุงูุฑููููู ูู ุงู note ุฏู ==> [[ุดุฑุญ ุงูููุฑุณ ูู Linux kernel exploits]]


# ุซุงูู ุณูุงุฑููุง ูู ุงู Privilege Escalation : ุชุฌุฑุจู ูู ูุงุญูู ุงู SUID
  ### ูุนุฑูุฉ ุงูุฃูุงูุฑ ุงููู ููุฏุฑ ูุดุบููุง ุจู sudo ู   ุงุณุชุบูุงู ูููุงุช SUID (Abusing SUID Binaries
  
  - ุก [[Abusing sudo and SUID binaries]]
  - ุฑูุญ ุงุนูู ุงูุณููุงุฑูููุงุช ุฏู ุจุฑุถู ==>[[Matrial of subjects/Web pentesting/8๏ธโฃ Post-Exploitation/3๏ธโฃ Privilege Escalation/ุณููุงุฑูููุงุช ูุฎุชููู ูู ุดุฑุญ ุงูููุฑุณ]]



# ุซุงูุซ ุณูุงุฑููุง ูู ุงู Privilege Escalation :
### ุฏูุฑ ูู ูู folders ุนูู ุงู ูููุงุช:

##### ูู ู ุชุฎุด folders ุงุนูู ุงูุงูุฑ  ุฏู ุนูุดุงู ุชุนุฑู ููู ุงููู ุนูู ุงููููุงุช 
```
ls -lh
```

##### ุดูู ุงูุณููุงุฑูููุงุช  ุงููุญุฏุฏู ูู ุงูููู ุฏู ุจุฑุถู==>ูู ุงูุณููุงุฑูู ุงูุชุงูุช ูุฑุงุจุน  [[ุดุฑุญ ุงูููุฑุณ ูู Linux kernel exploits]]


# ุฑุงุจุน ุณูุงุฑููุง ูู ุงู Privilege Escalation : ุชุฌุฑุจู ูู ูุงุญูู Weak File Permission

ุงูุณููุงุฑููุง ุฏู ููุฑุชู ูู ุงูุชุนุงูู ูุน ุงููููุงุช ุงู user ูุงู password



## ูู ุจููุช ุงู root ูุนุงูุฒ ุชุฎุด ุฌูู user ุชุงููู ุฑูุญ ุงูุชุญ ุงููููุฏู ุจุงูุงูุฑ ุฏู :

```
sudo vim /etc/passwd
```
#### ููุธูุฑูู ูู ุงู users :
![Pasted image 20250322193736.png](attachments/Pasted image 20250322193736.png)
##### **๐ ูุง ูู ููู `/etc/passwd`ุ**

ููู **`/etc/passwd`** ูู ุงูููู ุงูุฐู ูุฎุฒู ูุนูููุงุช **ุญุณุงุจุงุช ุงููุณุชุฎุฏููู** ูู ูุธุงู ููููุณุ ููุชุถูู:

- ุงุณู ุงููุณุชุฎุฏู
    
- ุก UID (ุฑูู ุชุนุฑูู ุงููุณุชุฎุฏู)
    
-  ุก GID (ุฑูู ุชุนุฑูู ุงููุฌููุนุฉ)
    
- ุงูุฏููู ุงูุฑุฆูุณู (Home Directory)
    
- ุงูุดูู ุงูุงูุชุฑุงุถู (ูุซู `/bin/bash`)
    

๐ก **ุตูุบุฉ ุงูุณุทุฑ ูู `/etc/passwd`:**
```
`username:x:UID:GID:comment:home_directory:shell`
```

๐นุก **`x`** ุชุนูู ุฃู ูููุฉ ุงููุฑูุฑ ูุดูุฑุฉ ููุญููุธุฉ ูู `/etc/shadow` ุจุฏูุงู ูู `/etc/passwd`.

#### ุนูุดุงู ุชุฎุด ุนูู ุงู user ุฏูู ุงูุชุจ ุงูุงูุฑ ุฏู :
```
su username
```

## ุทุจ ุนูุดุงู ุชุนุฑู ุงู password ุจุชุงุนูู :
ุฎุด ุนูู ุงูููู ุฏู :
```
cat /etc/shadow
```
#### ููุธูุฑูู ูู ุงู password ุจุชุงุนูู :
![Pasted image 20250322200917.png](attachments/Pasted image 20250322200917.png)

#### ุฑูุญ ุงุนูู ููู ุงุณูู hashes.txt :

```
nano hashes.txt
```
ูุถูู ุงูููุงู ุฏู :
![Pasted image 20250322200917.png](attachments/Pasted image 20250322200917.png)
#### ุซู ุงุณุชุฎุฏู  ุงุฏุงู`John the Ripper` ููุณุฑูุง:
```
john --wordlist=/usr/share/wordlists/rockyou.txt hashes.txt
```


## ุทุจ ุนูุดุงู ุชุนุฑู ุชุบูุฑ ุงู password ุจุชุงุน ุงู user 

ุงูู ุญุงุฌู ุงุนุฑู ูู ุงูุฏุฑ ุงุนุฏู ุนููู ููุง ูุง 

```bash
ls -l /etc/shadow
```

ูุชู ุนุฑุถ ุงูุฃุฐููุงุช ุงูุฎุงุตุฉ ุจุงููููุ ูุงูุชู ุนุงุฏุฉู ุชููู:

```bash
-rw-r----- 1 root shadow 1234 Mar 23 10:00 /etc/shadow
```

๐น ูุฐุง ูุนูู ุฃู **ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ** ูุณููุญุฉ ููุท ูููุณุชุฎุฏู **root** ููุฌููุนุฉ **shadow**ุ ูุจุงูู ุงููุณุชุฎุฏููู ูุง ูููููู ุญุชู ูุฑุงุกุชู.  
ููู ูู ูุฐุง ุงูุณููุงุฑููุ ุงูููู **ูุงุจู ูููุชุงุจุฉ ูู ุงูุฌููุน (world-writable)**ุ ููุง ููุซู **ุซุบุฑุฉ ุฃูููุฉ ุฎุทูุฑุฉ**.

---

## **๐ ููููุฉ ุชุบููุฑ ูููุฉ ูุฑูุฑ root ูุฏูููุงุ**

1๏ธโฃ **ุชูููุฏ ูุงุด ุฌุฏูุฏ ููููุฉ ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู SHA-512**  
ููููู ุงุณุชุฎุฏุงู ุงูุฃูุฑ:

```bash
mkpasswd -m sha-512 newpasswordhere
```

๐ ูุฐุง ุงูุฃูุฑ ุณูููุฏ ูุงุด ุฌุฏูุฏ ููููุฉ ุงููุฑูุฑ **`newpasswordhere`** ุจุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุฉ **SHA-512 Crypt**.

2๏ธโฃ **ุชุญุฑูุฑ ููู `/etc/shadow` ูุงุณุชุจุฏุงู ูุงุด ูููุฉ ูุฑูุฑ root**  
ุงูุชุญ ุงูููู ุจุงุณุชุฎุฏุงู **nano** ุฃู **vim**:

```bash
nano /etc/shadow
```

ุณุชุฌุฏ ุณุทุฑ root ูุดุงุจู ููุฐุง:

```bash
root:$6$salt$hashed_password:19000:0:99999:7:::
```

โ๏ธ ูู ุจุงุณุชุจุฏุงู **`$6$salt$hashed_password`** ุจุงููุงุด ุงูุฌุฏูุฏ ุงูุฐู ุญุตูุช ุนููู ูู **mkpasswd**ุ ุซู ุงุญูุธ ุงูููู.

3๏ธโฃ **ุงูุชุจุฏูู ุฅูู root ุจุงุณุชุฎุฏุงู ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ**  
ุงุณุชุฎุฏู ุงูุฃูุฑ:

```bash
su root
```

ุนูุฏ ุงููุทุงูุจุฉ ุจุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑุ ุงูุชุจ ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ ุงูุชู ุฃูุดุฃุชูุงุ ูุณุชุตุจุญ **root**.

4๏ธโฃ **ุงูุฎุฑูุฌ ูู ุงูู root shell ุจุนุฏ ุงูุงูุชูุงุก**  
ููุชุฃูุฏ ูู ุงูุนูุฏุฉ ุฅูู ุงููุณุชุฎุฏู ุงูุนุงุฏูุ ุงูุชุจ:

```bash
exit
```

---
# ุฎุงูุณ ุณูุงุฑููุง ูู ุงู Privilege Escalation : ุชุฌุฑุจู ูู ูุงุญูู ุงู data base 


### ุฌุฑุจ ุชุฎุด ุนูู ุงู data base ุงูุงูู ูุชููู root : 

-[[Overprivileged database users (root, sa).]]
- [[Using default credentials or weak passwords for database authentication.]]

### ุซู ูู ุนุฑูุช ุชูุชุญ ุงูููุงู ุงููู ุจูุญุท ููู ุงูุงูุงูุฑ ููุฏุงุชุง ุจูุฒ ูุนูู ุฏุฎูุช ููุฏุงุชุง ุจูุฒ ุฒู ูุฏู : 

![Pasted image 20250323160822.png](attachments/Pasted image 20250323160822.png)
### ุญุงูู ุชุณุชุบููุง ุนูุดุงู ุชุจูู root :
- [[๐ฅ ูู ุทุฑู ุงุณุชุบูุงู MySQL ููุญุตูู ุนูู Root Access ๐ฅ]]
-




# ุณุงุฏุณ  ุณูุงุฑููุง ูู ุงู Privilege Escalation : ุชุฌุฑุจู ุงู Cron Jobs

### ุดุฑุญ ุงู ุงููู ูุชุนููู ูู ุงูุณููุงุฑูู ุฏู :


##### 1. [[Cron Jobs - File Permissions]]

##### 2. [[Cron Jobs - PATH Environment Variable]]

 ##### 3.[[Cron Jobs - Wildcards]]
 