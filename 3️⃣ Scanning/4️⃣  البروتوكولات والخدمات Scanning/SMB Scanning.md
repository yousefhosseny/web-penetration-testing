# ๐ฅ **ุดุฑุญ ุนููู ููุจุณุท ูู SMB Scanning** ๐ฅ

## โ **ูุง ูู SMBุ**

**SMB (Server Message Block)** ูู ุจุฑูุชูููู ููุดุงุฑูุฉ ุงููููุงุช ูุงูุทุงุจุนุงุช ุจูู ุงูุฃุฌูุฒุฉ ูู ุงูุดุจูุฉ.  
ูุณุชุฎุฏูู ูุธุงู **Windows** ุจุดูู ุฃุณุงุณูุ ูููู ูุชุงุญ ุฃูุถูุง ุนูู **Linux** ู**macOS** ุนุจุฑ Samba.

### ๐ **ุฃูู ููุงูุฐ SMB:**

- **Port 445/TCP** โ ุงููููุฐ ุงูุฃุณุงุณู ูุจุฑูุชูููู SMB.
- **Port 139/TCP** โ ูุงู ููุณุชุฎุฏู ูู ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ ูู SMB.

---

## โ๏ธ **ููุงุฐุง ูุนุชุจุฑ SMB ุฎุทูุฑูุงุ**

1๏ธโฃ ุฅุฐุง ูุงู ููุนูููุง ุจุฏูู ุชุฃูููุ ูููู ูุฃู ุดุฎุต ุฏุงุฎู ุงูุดุจูุฉ ุงููุตูู ุฅูู ุงููููุงุช ูุงูุทุงุจุนุงุช.  
2๏ธโฃ ุจุนุถ ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ ูุซู **SMBv1** ุชุญุชูู ุนูู ุซุบุฑุงุช ุฎุทูุฑุฉ (ูุซู **EternalBlue** ุงูุชู ุงุณุชุฎุฏูุชูุง ูุฌูุงุช WannaCry).  
3๏ธโฃ ูููู ุงุณุชุฎุฏุงู SMB ูุฌูุน ูุนูููุงุช ูุซู ุฃุณูุงุก ุงููุณุชุฎุฏููู ูุงููุฌูุฏุงุช ุงููุดุชุฑูุฉ.

---

## ๐๏ธ **ุฃุฏูุงุช ูุฃูุงูุฑ ูุญุต SMB ุจุงูุชูุตูู**

### ๐ **1๏ธโฃ ุงูุชุดุงู ูุง ุฅุฐุง ูุงู SMB ูุนูู ุนูู ุงููุฏู**

๐ **ุงุณุชุฎุฏุงู [[Nmap]] ููุญุต ุงูููุงูุฐ 445 ู 139**

```bash
nmap -p 445,139 target.com
```

**๐น ุงููุชูุฌุฉ:**  
ุฅุฐุง ุธูุฑ ุฃู ุฃุญุฏ ุงูููุงูุฐ ููุชูุญุ ููุฐุง ูุนูู ุฃู SMB ูุนูู ุนูู ุงููุฏู.

#### โ **ุงูุฎูุงุตุฉ:**

SMB ูุนูู ุนูู **ุงูููุงูุฐ 445 ู 139**ุ ูุฅุฐุง ูุงู ุฃุญุฏููุง ููุชูุญูุงุ ูููุงู ูุฑุตุฉ ูููุตูู ุฅูู ุงููููุงุช ุงููุดุชุฑูุฉ ุฃู ุงุณุชุบูุงู ุซุบุฑุงุช.

---

### ๐ **2๏ธโฃ ุชุญุฏูุฏ ุฅุตุฏุงุฑ SMB ููุธุงู ุงูุชุดุบูู**

๐ **ุงุณุชุฎุฏุงู Nmap ูุฌูุน ูุนูููุงุช ุนู ุฅุตุฏุงุฑ SMB ูุงููุธุงู**

```bash
nmap -p 445 --script=smb-os-discovery target.com
```

**๐น ุงููุชูุฌุฉ:**

- ููุดู ูุฐุง ุงูุฃูุฑ ุนู **ุฅุตุฏุงุฑ SMB** ุงููุณุชุฎุฏู.
- ูุญุฏุฏ **ูุธุงู ุงูุชุดุบูู** (Windows/Linux) ูุงูุฎุฏูุฉ ุงููุดุบููุฉ ุนูู ุงููููุฐ.

#### โ **ุงูุฎูุงุตุฉ:**

ูุนุฑูุฉ ุฅุตุฏุงุฑ SMB ููู ูุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ูุญุชูู ุนูู ุซุบุฑุงุช ุฃูููุฉ ูุนุฑููุฉ.

---

### ๐ **3๏ธโฃ ุงูุจุญุซ ุนู ุงูุซุบุฑุงุช ูู SMB**

๐ **ุงุณุชุฎุฏุงู Nmap ููุจุญุซ ุนู ุซุบุฑุงุช SMB ุงูุดุงุฆุนุฉ**

```bash
nmap --script smb-vuln* -p 445 target.com
```

**๐น ุงููุชูุฌุฉ:**

- ููุดู ูุง ุฅุฐุง ูุงู ุงููุธุงู ูุนุฑุถูุง ููุฌูุงุช ูุซู **EternalBlue** (**CVE-2017-0144**).
- ูุนุฑุถ ุซุบุฑุงุช ุฃุฎุฑู ูุซู ุชุณุฑูุจ ุงูุจูุงูุงุช ุฃู ุงููุตูู ุบูุฑ ุงููุตุฑุญ ุจู.

#### โ **ุงูุฎูุงุตุฉ:**

ุงูุฃูุธูุฉ ุงูุชู ุชุนูู ุจุฅุตุฏุงุฑุงุช ูุฏููุฉ ูู SMBุ ุฎุตูุตูุง **SMBv1**ุ ูููู ุงุณุชุบูุงููุง ูุงุฎุชุฑุงู ุงูุฌูุงุฒ.

---

### ๐ **4๏ธโฃ ุงุณุชูุดุงู ุงููููุงุช ุงููุดุชุฑูุฉ ุนูู SMB**

๐ **ุงุณุชุฎุฏุงู `[[smbclient]]` ูุฑุคูุฉ ุงููููุงุช ุงููุชุงุญุฉ ุนูู ุงููุฏู**

```bash
smbclient -L \\target.com -U anonymous
```

**๐น ุงููุชูุฌุฉ:**

- ูุนุฑุถ ูุงุฆูุฉ ุจุงููุฌูุฏุงุช ูุงููููุงุช ุงููุดุชุฑูุฉ ุฅุฐุง ูุงู ุงููุตูู ููุชูุญูุง.

๐ **ูููุตูู ุฅูู ููู ูุดุชุฑู:**

```bash
smbclient //target.com/share -U username
```

ุซู ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ุฅุฐุง ูุงูุช ูุทููุจุฉ.

#### โ **ุงูุฎูุงุตุฉ:**

ุฅุฐุง ูุงู SMB ููุชูุญูุง ูููุณุชุฎุฏููู ุจุฏูู ูููุฉ ูุฑูุฑ ูููุฉุ ูููู ุงุณุชุบูุงูู ูููุตูู ุฅูู ูููุงุช ุญุณุงุณุฉ.

---

### ๐ **5๏ธโฃ ุชุฌุฑุจุฉ ุชุณุฌูู ุงูุฏุฎูู ุงูุนููู (Brute-force) ุนูู SMB**

๐ **ุจุงุณุชุฎุฏุงู [[Hydra]] ูุชุฌุฑุจุฉ ูููุงุช ูุฑูุฑ ูุฎุชููุฉ ุนูู SMB**

```bash
hydra -L users.txt -P passwords.txt smb://target.com
```

**๐น ุงููุชูุฌุฉ:**

- ุฅุฐุง ุชู ุงูุนุซูุฑ ุนูู ูููุฉ ูุฑูุฑ ุตุญูุญุฉุ ูููู ุชุณุฌูู ุงูุฏุฎูู ุฅูู SMB ูุงููุตูู ุฅูู ุงููููุงุช.

#### โ **ุงูุฎูุงุตุฉ:**

SMB ุจุฏูู ูููุงุช ูุฑูุฑ ูููุฉ ูุนุฑุถ ููุฌูุงุช ุงูุชุฎูููุ ูุฐูู ูุฌุจ ุงุณุชุฎุฏุงู ูููุงุช ูุฑูุฑ ูููุฉ ูุชูุนูู ุงูุฌุฏุงุฑ ุงููุงุฑู.

---

## ๐ **๐ ุฎุทูุงุช ุนูููุฉ ูุงุฎุชุจุงุฑ ุงุฎุชุฑุงู SMB (SMB Penetration Testing)**

### โ **1๏ธโฃ ูุญุต ุฅุฐุง ูุงู SMB ูุนูู ุนูู ุงููุฏู**

```bash
nmap -p 445,139 target.com
```

### โ **2๏ธโฃ ูุนุฑูุฉ ุฅุตุฏุงุฑ SMB ููุธุงู ุงูุชุดุบูู**

```bash
nmap -p 445 --script=smb-os-discovery target.com
```

### โ **3๏ธโฃ ุงูุจุญุซ ุนู ุซุบุฑุงุช SMB ูุซู EternalBlue**

```bash
nmap --script smb-vuln* -p 445 target.com
```

### โ **4๏ธโฃ ุงุณุชูุดุงู ุงููููุงุช ุงููุดุชุฑูุฉ**

```bash
smbclient -L \\target.com -U anonymous
```

### โ **5๏ธโฃ ุชุฌุฑุจุฉ ูููุงุช ูุฑูุฑ ูุฎุชููุฉ ุจุงุณุชุฎุฏุงู Hydra**

```bash
hydra -L users.txt -P passwords.txt smb://target.com
```

---

## ๐ฅ **๐ ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ ุนู SMB Scanning**

1๏ธโฃ SMB ูู ุจุฑูุชูููู ููุดุงุฑูุฉ ุงููููุงุช ููููู ูุฏ ูููู ููุทุฉ ุถุนู ูู ุงูุดุจูุฉ.  
2๏ธโฃ ุฅุตุฏุงุฑุงุช SMB ุงููุฏููุฉ ูุซู **SMBv1** ุชุญุชูู ุนูู ุซุบุฑุงุช ุฎุทูุฑุฉ ูููู ุงุณุชุบูุงููุง.  
3๏ธโฃ ูููู ุงูุชุดุงู ุงููููุงุช ุงููุดุชุฑูุฉ ุจุงุณุชุฎุฏุงู `smbclient`.  
4๏ธโฃ ูููู ุชุฌุฑุจุฉ ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู `hydra`.  
5๏ธโฃ ุงูุญู: **ุชุนุทูู SMBv1ุ ุงุณุชุฎุฏุงู ุฌุฏุฑุงู ุงูุญูุงูุฉุ ููููุงุช ูุฑูุฑ ูููุฉ.**

๐ฅ **๐ ุฌุฑุจ ุงูุฃุฏูุงุช ุจููุณู ูู ุจูุฆุฉ ุงุฎุชุจุงุฑ ูุงููููุฉ ูุงุณุชูุฏ ูููุง ูู ูุฌุงู ุฃูู ุงููุนูููุงุช!** ๐