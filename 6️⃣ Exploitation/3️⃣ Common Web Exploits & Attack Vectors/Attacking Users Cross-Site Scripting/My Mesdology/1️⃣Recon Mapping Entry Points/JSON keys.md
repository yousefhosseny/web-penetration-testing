لجمع **مفاتيح JSON (JSON Keys)** من تطبيق ويب أو API بشكل شامل، يمكنك استخدام مجموعة من الطرق اليدوية والآلية. فيما يلي جميع الطرق بالتفصيل:

---

### **1. تحليل طلبات الشبكة (Network Requests)**
- **الوصف**: فحص طلبات HTTP/HTTPS (مثل POST أو GET) التي تحتوي على بيانات JSON باستخدام أدوات مراقبة الشبكة.
- **الخطوات**:
  1. افتح **متصفح الويب** (مثل Chrome) واضغط على **F12** لفتح أدوات المطورين (DevTools).
  2. انتقل إلى علامة التبويب **Network**.
  3. قم بتحديث الصفحة أو التفاعل مع التطبيق (مثل إرسال نموذج أو تسجيل دخول).
  4. ابحث عن طلبات تحتوي على **Content-Type: application/json** في الرؤوس.
  5. انقر على الطلب، وانتقل إلى علامة التبويب **Payload** أو **Request** لعرض جسم JSON.
  6. سجّل جميع المفاتيح (Keys) في جسم JSON (مثل `{"username":"test", "password":"123"}` → المفاتيح: `username`, `password`).
- **الأدوات**:
  - **Chrome DevTools**: مجاني ومدمج في المتصفح.
  - **Burp Suite**: لتسجيل وتحليل الطلبات بدقة.
  - **OWASP ZAP**: أداة مفتوحة المصدر لمراقبة الطلبات.
- **مثال**:
  ```json
  {"user_id":123, "token":"abc"}
  ```
  المفاتيح: `user_id`, `token`.

---

### **2. استخدام أدوات اعتراض الطلبات (Request Interception Tools)**
- **الوصف**: اعتراض جميع الطلبات بين المتصفح والخادم لاستخراج بيانات JSON.
- **الخطوات**:
  1. قم بإعداد أداة مثل **Burp Suite** كوكيل (Proxy) بين المتصفح والخادم.
  2. فعّل خيار **Intercept** في Burp لتسجيل الطلبات.
  3. تفاعل مع التطبيق (مثل إرسال نموذج أو استدعاء API).
  4. افحص الطلبات في علامة التبويب **HTTP History** أو **Proxy** في Burp.
  5. ابحث عن طلبات POST أو PUT التي تحتوي على JSON في جسم الطلب.
  6. سجّل مفاتيح JSON يدويًا 
- **الأدوات**:
  - **Burp Suite**: الأداة الأكثر شيوعًا لاعتراض الطلبات.
  - **OWASP ZAP**: بديل مجاني.
  - **Postman**: لاختبار APIs مباشرة.
- **ميزة إضافية**: يمكنك تعديل JSON Keys وإعادة إرسال الطلبات لاختبار استجابة التطبيق.

##### الشرح العملي لل **Burp Suite**   :  

![2025-06-26 10-33-38.mkv](attachments/2025-06-26 10-33-38.mkv)

##### الشرح العملي لل Postman   :
ابقي افهما لسه مش شرحتها

---

### **3. تحليل وثائق API (API Documentation)**
- **الوصف**: إذا كان التطبيق يوفر وثائق API (مثل Swagger أو OpenAPI)، يمكنك استخراج مفاتيح JSON مباشرة.
- **الخطوات**:
  1. ابحث عن وثائق API في التطبيق (مثل `example.com/api/docs` أو `example.com/swagger`).
  2. افحص الأمثلة المقدمة لنقاط النهاية (Endpoints) مثل `/login` أو `/user`.
  3. سجّل مفاتيح JSON المستخدمة في أجسام الطلبات (Request Bodies) أو الاستجابات (Responses).
- **الأدوات**:
  - **Swagger UI**: لعرض وثائق API بصريًا.
  - **Postman**: لاستيراد وثائق API واختبارها.
- **مثال**:
  - وثائق API قد تحتوي على:
    ```json
    POST /api/login
    Request: {"email":"user@example.com", "password":"pass"}
    ```
    المفاتيح: `email`, `password`.

##### الشرح العملي لل **Swagger UI**
ابقي افهما لسه مش شرحتها

##### الشرح العملي لل **Postman**
ابقي افهما لسه مش شرحتها

---

### **4. فحص ملفات JavaScript**
- **الوصف**: تحليل ملفات JavaScript التي تحتوي على استدعاءات API أو بيانات JSON.
- **الخطوات**:
  1. افتح الموقع في المتصفح واضغط على **F12**، ثم انتقل إلى علامة التبويب **Sources**.
  2. ابحث عن ملفات JavaScript (مثل `app.js`, `main.js`).
  3. استخدم أدوات مثل **LinkFinder** أو **JSFinder** لاستخراج نقاط النهاية (Endpoints) التي تستخدم JSON.
  4. ابحث عن دوال مثل `fetch()`, `XMLHttpRequest`, أو `axios.post()` التي ترسل بيانات JSON.
  5. سجّل مفاتيح JSON المستخدمة في هذه الاستدعاءات.
- **الأدوات**:
  - **LinkFinder**:
    ```bash
    python3 linkfinder.py -i https://example.com -o results.html
    ```
  - **JSFinder**:
    ```bash
    jsfinder -u https://example.com
    ```
  - **Grep** أو **Regex** للبحث عن JSON في الملفات (مثل `{"key":.*}`).
- **مثال**:
  - كود JavaScript:
    ```javascript
    fetch('/api/user', {
      method: 'POST',
      body: JSON.stringify({ name: 'test', age: 25 })
    });
    ```
    المفاتيح: `name`, `age`.

---

### **5. استخدام أدوات استخراج المعلمات (Parameter Discovery Tools)**
- **الوصف**: أدوات متخصصة تكتشف المعلمات والمفاتيح في طلبات JSON تلقائيًا.
- **الخطوات**:
  1. استخدم أداة مثل **Arjun** لفحص نقاط النهاية (Endpoints) واكتشاف مفاتيح JSON مخفية.
  2. قم بتشغيل الأداة على URL أو جسم طلب معين.
  3. راجع النتائج لتحديد المفاتيح المكتشفة.
- **الأدوات**:
  - **Arjun**:
    ```bash
    arjun -u https://example.com/api/login -m JSON
    ```
    يكتشف مفاتيح مثل `username`, `token`.
- **مثال إخراج**:
  - Arjun قد يكتشف:
    ```json
    {"user":"test", "role":"admin"}
    ```
    المفاتيح: `user`, `role`.

---

### **6. اختبار النقاط النهائية يدويًا (Manual Endpoint Testing)**
- **الوصف**: إرسال طلبات يدوية إلى نقاط النهاية (Endpoints) باستخدام أدوات مثل Postman أو cURL.
- **الخطوات**:
  1. حدد نقاط النهاية (مثل `/api/login`, `/api/user`) من خلال التحليل السابق.
  2. استخدم **Postman** أو **cURL** لإرسال طلبات JSON مع مفاتيح اختبارية.
  3. راقب استجابة الخادم لتحديد المفاتيح المقبولة.
  4. جرب إضافة مفاتيح غير متوقعة (مثل `admin=true`) لاختبار السلوك.
- **الأدوات**:
  - **Postman**: لإرسال طلبات JSON بسهولة.
  - **cURL**:
    ```bash
    curl -X POST https://example.com/api/login -H "Content-Type: application/json" -d '{"username":"test","password":"123"}'
    ```
- **مثال**:
  - استجابة الخادم قد تحتوي على:
    ```json
    {"status":"success", "user_id":123}
    ```
    المفاتيح: `status`, `user_id`.

---

### **7. فحص استجابات الخادم (Server Responses)**
- **الوصف**: تحليل استجابات الخادم التي تحتوي على JSON لاستخراج مفاتيح إضافية.
- **الخطوات**:
  1. أرسل طلبات إلى نقاط النهاية (Endpoints) باستخدام Burp أو Postman.
  2. افحص جسم الاستجابة (Response Body) في علامة التبويب **Response**.
  3. سجّل مفاتيح JSON في الاستجابة، حيث قد تكشف عن مفاتيح متوقعة في طلبات لاحقة.
- **مثال**:
  - استجابة:
    ```json
    {"error":"Invalid token", "retry_after":300}
    ```
    المفاتيح: `error`, `retry_after`.

---

### **8. التخمين الذكي (Smart Guessing)**
- **الوصف**: تخمين مفاتيح JSON شائعة بناءً على السياق (مثل تسجيل الدخول، إدارة المستخدمين).
- **الخطوات**:
  1. قم بإنشاء قائمة بمفاتيح JSON شائعة (مثل `username`, `password`, `token`, `email`, `role`, `id`).
  2. استخدم أداة مثل Burp Intruder أو Postman لإرسال طلبات JSON تحتوي على هذه المفاتيح.
  3. راقب استجابات الخادم لتحديد المفاتيح المقبولة.
- **الأدوات**:
  - **Burp Intruder**: لتجربة قوائم مفاتيح تلقائيًا.
  - **Wordlists**: مثل قوائم SecLists تحتوي على مفاتيح JSON شائعة.
- **مثال**:
  - جرب:
    ```json
    {"admin":"true", "debug":"1"}
    ```
    قد يكتشف مفاتيح مثل `admin`.

---

### **9. تحليل التطبيقات أحادية الصفحة (SPA Analysis)**
- **الوصف**: فحص تطبيقات الويب أحادية الصفحة (Single Page Applications) التي تعتمد بشكل كبير على JSON وAPIs.
- **الخطوات**:
  1. استخدم أدوات مثل **React Developer Tools** أو **Vue.js DevTools** لتحليل مكونات التطبيق.
  2. ابحث عن استدعاءات API في JavaScript (مثل `axios`, `fetch`).
  3. سجّل مفاتيح JSON المستخدمة في هذه الاستدعاءات.
- **الأدوات**:
  - **React/Vue DevTools**: لتحليل التطبيقات الحديثة.
  - **Burp Suite**: لتسجيل الطلبات.

---

### **10. فحص ملفات التكوين أو التسريبات (Configuration Files/Leaks)**
- **الوصف**: البحث عن ملفات تكوين أو تسريبات تحتوي على هياكل JSON.
- **الخطوات**:
  1. ابحث عن ملفات مثل `config.json`, `api.json` باستخدام أدوات مثل **gau** أو **waybackurls**.
  2. استخدم أدوات مثل **gf** (Grep Filter) لتصفية JSON من النتائج.
  3. افحص الملفات لاستخراج المفاتيح.
- **الأدوات**:
  - **gau**:
    ```bash
    gau example.com | grep "\.json"
    ```
  - **gf**:
    ```bash
    gf json
    ```
- **مثال**:
  - ملف `config.json`:
    ```json
    {"api_key":"abc123", "endpoint":"api.example.com"}
    ```
    المفاتيح: `api_key`, `endpoint`.

---

### **نصائح إضافية**
- **استخدم قوائم كلمات (Wordlists)**: قم بتنزيل قوائم مثل SecLists التي تحتوي على مفاتيح JSON شائعة.
- **وثّق كل شيء**: احتفظ بجدول يحتوي على المفاتيح، نقاط النهاية، والاستجابات.
- **اختبر المفاتيح المخفية**: جرب إضافة مفاتيح مثل `debug`, `admin`, أو `is_admin` لكشف وظائف مخفية.
- **حافظ على الأخلاقيات**: لا تختبر إلا على أهداف مرخصة.

---

### **مثال نهائي لجدول التوثيق**
| **نقطة النهاية**       | **نوع الطلب** | **مفاتيح JSON**            | **الاستجابة**            |
|--------------------------|----------------|-----------------------------|---------------------------|
| `/api/login`            | POST          | `username`, `password`      | `{"status":"success"}`   |
| `/api/user`             | POST          | `name`, `age`              | `{"id":123}`             |
| `/api/config`           | GET           | `api_key`, `endpoint`      | `{"status":"ok"}`        |

إذا كنت بحاجة إلى شرح أي طريقة بالتفصيل أو مساعدة في أداة معينة، أخبرني! 🚀