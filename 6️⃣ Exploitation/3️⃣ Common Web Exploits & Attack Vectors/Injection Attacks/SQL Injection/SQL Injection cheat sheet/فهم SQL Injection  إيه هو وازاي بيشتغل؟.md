**SQL Injection (حقن SQL)** هو نوع من الثغرات الأمنية في تطبيقات الويب، حيث يقوم المهاجم بإدخال أو "حَقن" نصوص برمجية خبيثة مكتوبة بلغة SQL داخل إدخالات المستخدم (مثل حقول النماذج أو روابط URL)، بهدف التلاعب بالاستعلامات التي تُرسل لقاعدة البيانات .

### كيف يعمل SQL Injection؟

عادةً، تعمل التطبيقات على بناء استعلامات SQL ديناميكية باستخدام بيانات يُدخلها المستخدم مباشرة دون تنقيتها أو فلترتها. هنا يمكن للمهاجم تعديل هذه البيانات لإدخال تعليمات SQL خبيثة بدلاً من البيانات العادية، مما يؤدي إلى تنفيذ تلك الأوامر على قاعدة البيانات .

#### مثال توضيحي:

لنفترض أن هناك صفحة تسجيل دخول تحتوي على هذا الكود:

```sql
SELECT * FROM users WHERE username = '$username' AND password = '$password';
```

إذا أدخل المهاجم في حقل **username** القيمة التالية:
```sql
' OR '1'='1
```
فإن الاستعلام سيصبح:
```sql
SELECT * FROM users WHERE username = '' OR '1'='1' AND password = '';
```

وبما أن `'1'='1` دائمًا صحيح، فقد يسمح هذا لمهاجم بالدخول إلى النظام بدون اسم مستخدم أو كلمة مرور .

---

### أنواع SQL Injection:

1. **In-Band SQLi**: يستخدم نفس القناة لإرسال الأوامر واسترجاع البيانات.
2. **Blind SQLi**: لا يتم استرجاع البيانات مباشرة، بل يتم استنتاجها من سلوك التطبيق.
3. **Out-of-band SQLi**: تستخدم قنوات مختلفة لاسترجاع البيانات، مثل البريد الإلكتروني أو طلب DNS .

---

### أمثلة على ما يمكن أن يفعله المهاجم عند استغلال SQL Injection:

- **قراءة البيانات الحساسة** مثل كلمات المرور وبيانات العملاء.
- **تعديل أو حذف البيانات** الموجودة في قاعدة البيانات.
- **تعطيل قاعدة البيانات** أو إحداث تغييرات تؤثر على توفر الخدمة.
- **الحصول على صلاحيات إدارية** على النظام بأكمله .

---

### كيف تحمي نفسك من SQL Injection؟

1. **استخدام استعلامات معلمية (Parameterized Queries)** بدلاً من بناء الاستعلامات بشكل مباشر من إدخال المستخدم.
2. **تنظيف وفلترة الإدخالات (Input Sanitization)**.
3. **تقليل الصلاحيات الممنوحة للمستخدم المتصل بقاعدة البيانات**.
4. **استخدام جدران الحماية الخاصة بتطبيقات الويب (Web Application Firewall - WAF)**.
5. **تحديث وصيانة التطبيقات باستمرار للبحث عن الثغرات الأمنية** .

إذا كنت تريد، يمكنني تقديم أمثلة عملية على كيفية الوقاية من SQL Injection بلغات مختلفة مثل PHP, Python, أو Java.