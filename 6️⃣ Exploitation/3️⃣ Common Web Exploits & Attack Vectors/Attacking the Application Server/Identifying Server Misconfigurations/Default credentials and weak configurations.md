تمام، هشرحلك القسم ده عن "الاعتمادات الافتراضية والإعدادات الضعيفة" (Default Credentials and Weak Configurations) بعمق وعملي مع أكواد وأوامر، وبعد كل جزء هاديك خلاصة Pentest بالعامية المصرية، وفي الآخر هاديك سيناريوهات الاستغلال الممكنة.

---

### **1. الاعتمادات الافتراضية (Default Credentials)**
#### **شرح عملي:**
الاعتمادات الافتراضية هي اسم المستخدم وكلمة السر اللي بتيجي مع البرامج أو الأجهزة من المصنع، زي `admin/admin` أو `root/root`. كتير من المسؤولين بينسوا يغيروها، وده بيخلي الخادوم أو التطبيق عرضة للاختراق بسهولة.

- **أمثلة شائعة:**
  - Apache Tomcat: `admin`/`admin` لصفحة الـ Manager.
  - MySQL: `root` بدون باسورد.
  - SSH: `root`/`toor`.

#### **كود عملي (تجربة Default Credentials على Tomcat):**
1. افتح المتصفح وروح لـ `http://localhost:8080/manager/html` (لو Tomcat شغال).
2. حط اسم المستخدم `admin` وكلمة السر `admin` (أو `tomcat`/`tomcat` حسب الإصدار).
3. لو دخلت، يبقى السيرفر لسه بيستخدم الاعتمادات الافتراضية!

#### **أمر عملي (تجربة SSH):**
- في الترمينال:
```bash
ssh root@<IP>
```
- لو طلب باسورد، جرب `root` أو `toor` أو `password`. لو دخلت من غير تغيير، يبقى الاعتمادات افتراضية.

#### **خلاصة Pentest بالعامية:**
"لو لقيت سيرفر شغال، أول حاجة تجربها الباسوردات الافتراضية زي `admin/admin` أو `root/root`. استخدم أداة زي Hydra أو Burp Suite تبعتهم على الـ Login Page وشوف لو بيدخلك ببلاش!"

---

### **2. الإعدادات الضعيفة (Weak Configurations)**
#### **شرح عملي:**
الإعدادات الضعيفة هي لما الخادوم أو التطبيق يتسيب بإعدادات افتراضية أو غير آمنة، زي فتح بورتات مش لازمة، تشغيل خدمات قديمة، أو إظهار رسايل خطأ مفصلة (Debug Info).

- **أمثلة:**
  - Nginx بيسمح بالوصول لمسارات حساسة زي `/etc/nginx`.
  - IIS بيظهر Stack Trace كامل لما يحصل خطأ.
  - Tomcat بيسيب بورت 8080 مفتوح من غير Firewall.

#### **كود عملي (Nginx بإعداد ضعيف):**
- ملف تهيئة Nginx غلط:
```
server {
    listen 80;
    server_name example.com;

    location / {
        root /var/www/html;
        autoindex on; # بيظهر كل الملفات في المجلد
    }
}
```
- لو فتحت `example.com/` هتشوف كل الملفات في `/var/www/html` زي `config.php` أو `backup.zip` لو موجودين!

#### **كود عملي (Tomcat بإعداد ضعيف):**
- لو صفحة `/manager/html` مفتوحة بدون حماية، أو ملف `tomcat-users.xml` لسه بتاعه الافتراضي:
```xml
<tomcat-users>
    <user username="admin" password="admin" roles="manager-gui"/>
</tomcat-users>
```
- افتح `http://localhost:8080/manager/html` وادخل بـ `admin/admin`.

#### **خلاصة Pentest بالعامية:**
"لو السيرفر مهيأ غلط، جرب تلعب في المسارات زي `../` تشوف لو بيطلعلك ملفات المفروض متشوفهاش. أو اسكن البورتات بـ Nmap وشوف لو فيه حاجة مفتوحة زي 8080 أو 3306، وجرب تدخل عليها!"

---

### **3. تأثير الاعتمادات الافتراضية والإعدادات الضعيفة**
#### **شرح عملي:**
- **Default Credentials:** بتدي وصول كامل للسيرفر أو التطبيق، يعني تقدر ترفع ملفات، تغير بيانات، أو تدمر النظام.
- **Weak Configurations:** بتفضح معلومات زي إصدارات البرامج، مسارات الملفات، أو حتى بيانات قاعدة البيانات، وبتسهل استغلال ثغرات تانية.

#### **أمر عملي (اسكان بـ Nmap للبورتات المفتوحة):**
```bash
nmap -p- <IP>
```
- لو لقيت بورت 8080 (Tomcat) أو 80 (Nginx/IIS) مفتوحين، جرب تدخل عليهم بـ `curl`:
```bash
curl http://<IP>:8080
```
- لو رجعلك صفحة افتراضية أو خطأ مفصل، يبقى فيه ضعف!

#### **خلاصة Pentest بالعامية:**
"الاعتمادات الافتراضية زي مفتاح البيت لو نسيته في الباب، والإعدادات الضعيفة زي شباك مفتوح. جرب كل حاجة مكتوبة في الـ Manual بتاع السيرفر (زي admin/admin) وشوف لو بيطلعلك حاجة زيادة زي إصدار البرنامج أو مسارات!"

---

### **سيناريوهات الاستغلال الممكنة (Exploitation Scenarios):**
1. **Default Credentials:**
   - **Tomcat Manager:** ادخل بـ `admin/admin` على `/manager/html` وارفع ملف WAR خبيث يفتحلك Shell.
   - **SSH:** جرب `root/root` أو `admin/password` على بورت 22، لو دخلت تقدر تنفذ أوامر زي `whoami` أو `rm -rf`.
   - **Database:** لو MySQL مفتوح (بورت 3306)، جرب `root` بدون باسورد بـ:
     ```bash
     mysql -u root -h <IP>
     ```

2. **Weak Configurations:**
   - **Directory Listing:** لو `autoindex on` في Nginx، ابحث عن ملفات زي `db_backup.sql` أو `.env` فيها بيانات زي كلمات سر.
   - **Verbose Errors:** لو السيرفر بيرجع أخطاء مفصلة (زي Stack Trace في IIS)، هتلاقي فيها إصدار البرنامج أو مسارات، استخدمها تكتشف ثغرات زي CVE-2017-5638 (Struts).
   - **Open Ports:** لو بورتات زي 8080 أو 8000 مفتوحة، جرب ثغرات معروفة للبرنامج اللي شغال عليها (مثلاً Tomcat RCE بـ CVE-2020-1938).

3. **مشترك:**
   - **Brute Force:** استخدم أداة زي Hydra تبعت كل الاعتمادات الافتراضية المعروفة:
     ```bash
     hydra -l admin -P /usr/share/wordlists/rockyou.txt <IP> http-get /manager/html
     ```
   - **Path Traversal:** جرب `http://<IP>/../etc/passwd` لو السيرفر مش بيفلتر المسارات.
   - **Information Disclosure:** لو السيرفر بيرجع Headers زي `Server: Apache/2.4.18`， ابحث عن ثغرات الإصدار ده في Exploit-DB.

---

لو عايز تفاصيل أكتر عن أي سيناريو أو كود استغلال معين، قوللي وأنا أفصلك!